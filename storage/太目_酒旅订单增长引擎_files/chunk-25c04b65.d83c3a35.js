(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-25c04b65"],{"0f1a":function(e,t,i){"use strict";var a=i("c7eb"),n=i("1da1"),o=(i("a9e3"),i("d3b7"),i("25f0"),i("4ec3")),s={name:"upload-file-item.vue",props:{sortEle:{type:Boolean,default:!1},item:{type:Object},index:{type:Number},describe:{type:Boolean,default:!1},objImgKey:{type:String,default:"url"},disable:{type:Boolean,default:!1},delBtn:{type:Boolean},uploadStyle:{type:Object},permission:{type:Boolean,default:!1},uploadBtn:{type:Boolean,default:!1},showMask:{type:Boolean,default:!1},showMaskOperate:{type:Boolean,default:!0},delBtnControl:{type:Boolean,default:!0}},data:function(){return{showMaskEel:!1,imageDialogUrl:"",imageDialog:!1,permissionUrl:""}},methods:{_getPrivateImageUrl:function(e){var t=this;return Object(n.a)(Object(a.a)().mark((function i(){var n,s;return Object(a.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e){i.next=11;break}if(!(e.indexOf("https://htmlqiniu.jihex.com/")>-1||e.indexOf("https://invoicefile.jihex.com/")>-1)){i.next=5;break}t.permissionUrl=e,i.next=11;break;case 5:if(!e){i.next=11;break}return i.next=8,Object(o.th)(e);case 8:n=i.sent,s=n.data,t.permissionUrl=s.toString();case 11:return i.abrupt("return","");case 12:case"end":return i.stop()}}),i)})))()},handleDeletListItem:function(e){this.$emit("delet",e)},handlePictureDisplay:function(e){this.imageDialogUrl=this.permission?this.permissionUrl:e,this.imageDialog=!0},handleClosePictureDisplay:function(){this.imageDialog=!1},handleMouse:function(e){this.describe&&(this.showMask=e)},handleUploadListItem:function(e){this.$emit("upDataIndex",e)}},mounted:function(){this.permission&&this._getPrivateImageUrl(this.item[this.objImgKey])}},l=(i("7646"),i("2877")),r=Object(l.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"upload_file_item"},[t("div",{class:e.describe?"upload_file_item_container":""},[t("div",{staticClass:"upload_file_item_img_container",class:e.item[e.objImgKey]?"":"progress-border",style:e.uploadStyle,on:{mouseleave:function(t){e.showMaskEel=!1},mouseenter:function(t){e.showMaskEel=!0}}},[e.item[e.objImgKey]?t("img",{staticClass:"img_ele",class:e.showMask?"":"blur",attrs:{src:e.permission?e.permissionUrl:e.item[e.objImgKey],alt:e.index}}):e._e(),e.item[e.objImgKey]?e._e():t("el-progress",{attrs:{type:"circle",width:90,percentage:e.item.progressBar,color:"var(--color-primary)"}}),e.item[e.objImgKey]&&e.showMaskOperate?t("div",{directives:[{name:"show",rawName:"v-show",value:e.showMaskEel,expression:"showMaskEel"}],staticClass:"mask_ele"},[t("div",{staticClass:"icon-container right",class:(e.delBtn||e.uploadBtn)&&!1===e.disable?"":"oneBtn"},[t("span",{on:{click:function(t){return e.handlePictureDisplay(e.item[e.objImgKey])}}},[t("i",{staticClass:"el-icon-zoom-in"})])]),!e.disable&&e.delBtnControl?[e.uploadBtn?t("div",{staticClass:"icon-container left"},[t("span",{on:{click:function(t){return e.handleUploadListItem(e.index)}}},[t("i",{staticClass:"el-icon-upload2"})])]):e.delBtn?t("div",{staticClass:"icon-container left"},[t("span",{on:{click:function(t){return e.handleDeletListItem(e.index)}}},[t("i",{staticClass:"el-icon-delete"})])]):e._e()]:e._e(),e.disable||e.delBtnControl?e._e():[t("div",{staticClass:"icon-container left"},[t("span",{on:{click:function(t){return e.handleDeletListItem(e.index)}}},[t("i",{staticClass:"el-icon-delete"})])])]],2):e._e()],1),e.describe?t("div",{staticClass:"describe_container"},[t("div",{staticClass:"title"},[e._v("描述(选填)：")]),t("el-input",{staticClass:"myTextarea",attrs:{type:"textarea",maxlength:30,autosize:{minRows:3,maxRows:3},placeholder:"请输入30个字内",disabled:e.disable},model:{value:e.item.imgDesc,callback:function(t){e.$set(e.item,"imgDesc",t)},expression:"item.imgDesc"}})],1):e._e()]),e.sortEle?t("div",{staticClass:"upload_sort_item"},[t("span",{staticClass:"title"},[e._v("排序(选填)：")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.item.sortNo,expression:"item.sortNo"}],staticClass:"sort_input",attrs:{type:"number",disabled:e.disable},domProps:{value:e.item.sortNo},on:{input:function(t){t.target.composing||e.$set(e.item,"sortNo",t.target.value)}}})]):e._e(),t("el-dialog",{staticClass:"upload_file_item-dialog",attrs:{visible:e.imageDialog,width:"680px","append-to-body":"","before-close":e.handleClosePictureDisplay},on:{"update:visible":function(t){e.imageDialog=t}}},[t("img",{attrs:{src:e.imageDialogUrl}})])],1)}),[],!1,null,null,null);t.a=r.exports},"18a2":function(e,t,i){"use strict";i("b23a")},"2c61":function(e,t,i){"use strict";i("5033")},"2cc1":function(e,t,i){"use strict";i("fbab")},"3b95":function(e,t,i){"use strict";i("a9e3"),i("b0c0"),i("14d9"),i("4de4"),i("d3b7");var a=i("bb77"),n=i("9895"),o={data:function(){return{isDisable:!0,tableLoading:!1,hotelList:[],checkList:[],diaShow:this.value,merchantName:"",merchantId:"",merchantType:"-1",radioItem:"0",paramType:"dt",currentDt:""}},props:{value:{type:Boolean,default:!1},dt:{type:String,default:""},hasChecked:{type:Array,default:function(){return[]}},isRadio:{type:Boolean,default:!0},type:{type:String,default:""},isSupplier:{type:Number,default:0},supplierDt:{type:String,default:""},apiFunction:{type:Function,default:null},searchFunction:{type:Function,default:null},isAgent:{type:Boolean,default:!1}},methods:{axiosGetHostels:function(e){var t=this;this.tableLoading=!0;var i={pageno:1,pagecnt:99};this.type&&(i.type=this.type),this.merchantId&&(i[this.paramType]=this.merchantId),this.merchantName&&(i.name=this.merchantName),this.supplierDt&&(i.supplierDt=this.supplierDt),this.dt&&(i.bmsDt=this.dt),console.log(i),e&&this.searchFunction?this.searchFunction(i).then((function(e){t.tableLoading=!1,t.handleResult(e)})):this.apiFunction?this.apiFunction(i).then((function(e){t.tableLoading=!1,t.handleResult(e)})):"1"==this.isSupplier?Object(a.mc)(i).then((function(e){t.tableLoading=!1,t.handleResult(e)})):Object(a.M)(i).then((function(e){t.tableLoading=!1,t.handleResult(e)}))},openDia:function(){this.radioItem="",this.axiosGetHostels()},handleResult:function(e){this.$refs.Scrollbar&&this.$refs.Scrollbar.scrollToY(0);var t=e.data,i=t.data;if(0==t.sc){for(var a in i)i[a].isCheck=!1,i[a].isShow=!0,-1!=this.hasChecked.indexOf(i[a][this.paramType])&&(i[a].isShow=!1);this.hotelList=i}},handelRowCol:function(e){if(this.isAgent&&e.dt===this.currentDt)return this.$message.warning("代建卡券不能选择当前店铺");this.isRadio?this.radioItem=e[this.paramType]:e.isCheck=!e.isCheck},handelCheckList:function(){var e=this;if(this.closeDia(),this.checkList=[],this.isRadio)this.checkList=this.hotelList.filter((function(t){return t[e.paramType]==e.radioItem}));else for(var t in this.hotelList)this.hotelList[t].isCheck&&this.checkList.push(this.hotelList[t]);this.$emit("handelChoose",this.checkList)},clearDia:function(){this.merchantId="",this.merchantName="",this.checkList=[],this.radioItem="0"},closeDia:function(){this.$emit("input",!1)}},mounted:function(){this.currentDt=Object(n.h)("dt")},watch:{value:function(e){this.$emit("input",e),this.diaShow=e},diaShow:function(e){this.$emit("input",e)},radioItem:function(e){e&&e===this.currentDt&&(this.radioItem="0",this.$message.warning("代建卡券不能选择当前店铺"))}}},s=(i("2cc1"),i("e2ea"),i("2877")),l=Object(s.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper_box",attrs:{id:"hotelCheck"}},[t("el-dialog",{attrs:{title:"添加商户",center:"",visible:e.diaShow,width:"870px"},on:{close:e.clearDia,open:e.openDia,"update:visible":function(t){e.diaShow=t}}},[t("div",{staticClass:"tableHeader",staticStyle:{"margin-bottom":"16px"}},[t("p",{staticClass:"headerKey"},[e._v("商户名称：")]),t("el-input",{staticStyle:{"margin-right":"30px",width:"390px"},attrs:{placeholder:""},model:{value:e.merchantName,callback:function(t){e.merchantName=t},expression:"merchantName"}}),t("p",{staticClass:"headerKey"},[e._v("太目ID：")]),t("el-input",{staticStyle:{"margin-right":"20px",width:"130px"},attrs:{placeholder:""},model:{value:e.merchantId,callback:function(t){e.merchantId=t},expression:"merchantId"}}),t("tm-button",{attrs:{type:"search"},on:{click:function(t){return e.axiosGetHostels(!0)}}},[e._v("搜索")])],1),t("div",{staticClass:"tableWrp"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.hotelList,height:"351px"},on:{"row-click":e.handelRowCol}},[t("el-table-column",{attrs:{width:"46px"},scopedSlots:e._u([{key:"default",fn:function(i){return[e.isRadio?t("el-radio",{attrs:{label:i.row[e.paramType]},model:{value:e.radioItem,callback:function(t){e.radioItem=t},expression:"radioItem"}},[e._v("   ")]):t("tm-checkbox",{model:{value:i.row.isCheck,callback:function(t){e.$set(i.row,"isCheck",t)},expression:"scope.row.isCheck"}})]}}])}),t("el-table-column",{attrs:{prop:"name",label:"商户名称",width:"360px"}}),t("el-table-column",{attrs:{label:"商户类别",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("0"==t.row.type?"集团":"非集团")+" ")]}}])}),t("el-table-column",{attrs:{label:"太目ID",width:"152px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row[e.paramType])+" ")]}}])}),t("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("tm-state",{attrs:{type:1==i.row.status?"success":"danger"}},[e._v(e._s(1==i.row.status?"上线中":"未上线"))])]}}])})],1)],1),t("footer",{staticClass:"tableCzBox"},[t("tm-button",{attrs:{type:"plain-m",right:20},on:{click:e.closeDia}},[e._v("取消")]),t("tm-button",{attrs:{type:"primary-m"},on:{click:e.handelCheckList}},[e._v("确定")])],1)])],1)}),[],!1,null,"67af8cde",null);t.a=l.exports},"4be1":function(e,t,i){},"4cff":function(e,t,i){},5033:function(e,t,i){},"52b2":function(e,t,i){"use strict";i("c959")},"58aa":function(e,t,i){"use strict";i("c86d")},"64e2":function(e,t,i){"use strict";i("ae30")},"676c":function(e,t,i){},6863:function(e,t,i){},"6d22":function(e,t,i){"use strict";var a={data:function(){return{diaShow:this.value}},props:{value:{type:Boolean,default:!1},imgUrl:{type:String,default:""},title:{type:String,default:"用户侧示意图"}},methods:{openDia:function(){},clearDia:function(){this.checkList=[]},closeDia:function(){this.$emit("input",!1)}},mounted:function(){},watch:{value:function(e){this.$emit("input",e),this.diaShow=e},diaShow:function(e){this.$emit("input",e)}}},n=(i("18a2"),i("2877")),o=Object(n.a)(a,(function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"hotelCheck"}},[t("el-dialog",{attrs:{title:e.title,center:"",visible:e.diaShow,width:"870px"},on:{close:e.clearDia,open:e.openDia,"update:visible":function(t){e.diaShow=t}}},[t("div",{staticClass:"tipBox"},[t("p",[e._v("提示：本页内所有数据仅为样例,具体展示以实际配置为准")]),t("img",{attrs:{src:e.imgUrl}})])])],1)}),[],!1,null,"1291f692",null);t.a=o.exports},7646:function(e,t,i){"use strict";i("676c")},"8a94":function(e,t,i){"use strict";var a=i("5530"),n=i("c7eb"),o=i("1da1"),s=i("ade3"),l=i("2909"),r=(i("a9e3"),i("d81d"),i("a434"),i("d3b7"),i("3ca3"),i("ddb0"),i("a630"),i("159b"),i("14d9"),i("99af"),i("a15b"),i("b680"),i("0f1a")),c=i("99fb"),u=i("b76a"),d=i.n(u),p={name:"upload-file",components:{uploadFileItem:r.a,draggable:d.a},props:{value:{type:Array,default:function(){}},uploadSize:{type:Number,default:1},sortEle:{type:Boolean,default:!1},remind:{type:String,default:"请上传文件"},describe:{type:Boolean,default:!1},objImgKey:{type:String,default:"url"},disable:{type:Boolean,default:!1},displaySpecification:{type:Boolean},delBtn:{type:Boolean,default:!0},maxFileSize:{type:Number,default:5120},uploadBtn:{type:String,default:"button"},uploadBtnText:{type:String,default:"批量上传"},uploadStyle:{type:Object},permission:{type:Boolean,default:!1},showMask:{type:Boolean,default:!0},showMaskOperate:{type:Boolean,default:!0},fileFormat:{type:Array,default:function(){return["jpg","png","jpeg"]}},delBtnControl:{type:Boolean,default:!0},dragValue:{type:Boolean,default:!1}},data:function(){return{imageDialog:!1,imageDialogUrl:"",uploadAllErrorNumber:0,dialogVisible:!1,fileList:[],moreThanTheMaxSeziFile:0,fileFormatErrorNumber:0,repeatFile:0,disabledUpload:!1,subscription:null,isShowMaskOperate:this.showMaskOperate,dragList:this.value}},methods:{onStart:function(){this.isShowMaskOperate=!1},onEnd:function(){var e=this;this.dragList=this.dragList.map((function(e,t){return{url:e.url,sortNo:t+1}})),this.$emit("input",Object(l.a)(this.dragList)),this.$emit("sortEnd"),setTimeout((function(){e.isShowMaskOperate=!0}),200)},itemUpDataIndex:function(e){this.handleClickuploadFileBtn(e)},handleDeletListItem:function(e){this.value.splice(e,1),this.$emit("input",this.value)},handleDeletListItem2:function(e){this.dragList.splice(e,1),this.$emit("input",this.dragList)},handleClickuploadFileBtn:function(e){var t=this,i=document.createElement("input");i.type="file",i.multiple=!0,i.accept="image/*",i.onchange=function(){if(isNaN(e)){if(i.files.length+t.value.length+t.fileList.length>t.uploadSize)return void t.$message.error("当前最多还能选择".concat(t.uploadSize-t.value.length-t.fileList.length,"张图片"))}else if(t.handleDeletListItem(e),i.files.length>1)return void t.$message.error("当前最多选择1张图片");t.handleUploadFileChange(i.files,e)},i.click()},handleUploadFileChange:function(e){var t=this;Promise.all(Array.from(e).map((function(e){return e.size/1024>t.maxFileSize?(t.moreThanTheMaxSeziFile+=1,new Promise((function(e,t){return e(!1)}))):t.fileFormat.some((function(t){return-1!==e.type.indexOf(t)}))?t.uploadPromise(e):(t.fileFormatErrorNumber+=1,new Promise((function(e,t){return e(!1)})))}))).then((function(e){var i=[];t.fileList.forEach((function(e){if(!1===e.isDel){var a=Object(s.a)({},t.objImgKey,e[t.objImgKey]);t.sortEle&&(a.sortNo=e.sortNo),t.describe&&(a.imgDesc=e.imgDesc),i.push(a)}})),t.$emit("input",[].concat(Object(l.a)(Array.isArray(t.value)?t.value:[]),i)),t.$emit("successChange",e),t.fileList.length=0,t.fileList=[],t.uploadAllErrorNumber>0||t.moreThanTheMaxSeziFile>0||t.repeatFile>0||t.fileFormatErrorNumber>0?t.uploadAllErrorNumber>0&&0===t.moreThanTheMaxSeziFile&&0===t.repeatFile&&0===t.fileFormatErrorNumber?t.$message.error("".concat(t.uploadAllErrorNumber,"张图片上传失败，请先检查网络连接，再联系太目小助手")):0===t.uploadAllErrorNumber&&t.moreThanTheMaxSeziFile>0&&0===t.repeatFile&&0===t.fileFormatErrorNumber?t.$message.error("".concat(t.moreThanTheMaxSeziFile,"张图片上传失败，大小已超过").concat(t.maxFileSize/1024,"M")):0===t.uploadAllErrorNumber&&0===t.moreThanTheMaxSeziFile&&t.repeatFile>0&&0===t.fileFormatErrorNumber?t.$message.error("".concat(t.repeatFile,"张图片上传失败，请勿重复上传相同图片")):t.fileFormatErrorNumber>0&&0===t.uploadAllErrorNumber&&0===t.moreThanTheMaxSeziFile&&0===t.repeatFile?t.$message.error("".concat(t.fileFormatErrorNumber,"张图片上传失败，格式仅支持").concat(t.fileFormat.join("、"))):t.$message.error("".concat(t.repeatFile+t.moreThanTheMaxSeziFile+t.uploadAllErrorNumber+t.fileFormatErrorNumber,"张图片上传失败，请检查图片大小、是否重复或图片格式")):t.$message.success("图⽚上传成功"),t.uploadAllErrorNumber=0,t.moreThanTheMaxSeziFile=0,t.repeatFile=0,t.fileFormatErrorNumber=0,t.disabledUpload=!1,t.subscription=null}))},uploadPromise:function(e){var t,i=this,a=this.fileList.length,l=(new Date).getTime()+Math.floor(1e3*Math.random());return this.fileList.push((t={},Object(s.a)(t,this.objImgKey,null),Object(s.a)(t,"progressBar",0),Object(s.a)(t,"sortNo",""),Object(s.a)(t,"imgDesc",""),Object(s.a)(t,"isDel",!1),Object(s.a)(t,"imgId",l),t)),new Promise(function(){var t=Object(o.a)(Object(n.a)().mark((function t(o,s){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(c.a)(e,(function(e){i.onUploadProgress(e.total.percent,i.fileList[a])}),(function(e){return i.error(e,a,o)}),(function(e){return i.complete(e,a,o,l)}),i.permission).then((function(e){i.subscription=e})).catch((function(e){return i.error(e,a,o)}));case 1:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}())},onUploadProgress:function(e,t){e&&(t.progressBar=e<99.4?Number(e.toFixed(2)):99.9)},errorResult:function(){this.uploadAllErrorNumber+=1},error:function(e,t,i){this.fileList[t].isDel=!0,this.errorResult(),i(!1)},complete:function(e,t,i,a){var n=this;this.fileList[t].progressBar=100,this.permission?this.value.some((function(t){return t[n.objImgKey]===e.key}))?(this.fileList[t].isDel=!0,this.repeatFile+=1):this.fileList.forEach((function(t){t.imgId===a&&(t[n.objImgKey]=e.key)})):this.value.some((function(t){return t[n.objImgKey]==="https://htmlqiniu.jihex.com/"+e.key}))?(this.fileList[t].isDel=!0,this.repeatFile+=1):this.fileList.forEach((function(t){t.imgId===a&&(t[n.objImgKey]="https://htmlqiniu.jihex.com/"+e.key)})),i(e)}},beforeDestroy:function(){this.subscription&&this.subscription.unsubscribe()},watch:{fileList:function(e){this.dragList=[].concat(Object(l.a)(this.value),Object(l.a)(e))},value:function(e){this.dragList=Object(l.a)(this.value)}}},h=(i("58aa"),i("2877")),m=Object(h.a)(p,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"upload_file_component"},[t("div",{staticClass:"upload_file_button"},["button"===e.uploadBtn?t("el-button",{staticStyle:{"font-weight":"400"},attrs:{size:"mini",plain:"",icon:"el-icon-plus",disabled:e.value.length>=e.uploadSize||e.disable||e.disabledUpload},on:{click:e.handleClickuploadFileBtn}},[e._v(" "+e._s(e.uploadBtnText)+" ")]):e._e(),"picture-card"===e.uploadBtn&&e.uploadSize>e.value.length+e.fileList.length?t("div",{staticClass:"picture-card",class:e.disable?"disabled":"",style:e.uploadStyle,on:{click:e.handleClickuploadFileBtn}},[t("i",{staticClass:"el-icon-plus"})]):e._e(),e.displaySpecification?t("span",{staticClass:"specification",on:{mouseleave:function(t){e.dialogVisible=!1},mouseenter:function(t){e.dialogVisible=!0}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogVisible,expression:"dialogVisible"}],staticClass:"img-container"},[t("img",{attrs:{src:"https://htmlqiniu.jihex.com/saas/%E7%A4%BA%E4%BE%8B%E5%9B%BE%E5%95%86%E5%93%81%E9%A1%B5.png"}})]),t("tm-button",{attrs:{type:"text-secondary"}},[e._v("查看图片规范")])],1):e._e()],1),e.remind?t("div",{staticClass:"margin_top upload_file_remind"},[t("div",{domProps:{innerHTML:e._s(e.remind)}})]):e._e(),e.dragValue?t("div",{staticClass:"upload_file_display_container",class:"picture-card"===e.uploadBtn&&e.uploadSize<=e.value.length+e.fileList.length?"picture-card":""},[t("draggable",{attrs:{animation:"300"},on:{start:e.onStart,end:e.onEnd},model:{value:e.dragList,callback:function(t){e.dragList=t},expression:"dragList"}},[t("transition-group",{staticClass:"flex flex-wrap"},e._l(e.dragList,(function(i,n){return t("div",{key:n-1,staticClass:"flex",staticStyle:{cursor:"move"}},[t("uploadFileItem",{attrs:{permission:e.permission,showMaskOperate:e.isShowMaskOperate,showMask:e.showMask,"upload-btn":"picture-card"===e.uploadBtn,uploadStyle:Object(a.a)(Object(a.a)({},e.uploadStyle),{},{background:"none"}),disable:e.disable,delBtn:e.delBtn,delBtnControl:e.delBtnControl,describe:e.describe,objImgKey:e.objImgKey,sortEle:!1,item:i,index:n},on:{upDataIndex:e.itemUpDataIndex,delet:function(t){return e.handleDeletListItem2(t,"value")}}})],1)})),0)],1)],1):e._e(),e.dragValue?e._e():t("div",{staticClass:"upload_file_display_container",class:"picture-card"===e.uploadBtn&&e.uploadSize<=e.value.length+e.fileList.length?"picture-card":""},[e._l(e.value,(function(i,n){return t("uploadFileItem",{key:n,attrs:{permission:e.permission,showMaskOperate:e.showMaskOperate,showMask:e.showMask,"upload-btn":"picture-card"===e.uploadBtn,uploadStyle:Object(a.a)(Object(a.a)({},e.uploadStyle),{},{background:"none"}),disable:e.disable,delBtn:e.delBtn,delBtnControl:e.delBtnControl,describe:e.describe,objImgKey:e.objImgKey,sortEle:e.sortEle,item:i,index:n},on:{upDataIndex:e.itemUpDataIndex,delet:function(t){return e.handleDeletListItem(t,"value")}}})})),e._l(e.fileList,(function(i,a){return t("uploadFileItem",{key:i.imgId,attrs:{permission:e.permission,uploadStyle:e.uploadStyle,disable:e.disable,delBtn:e.delBtn,delBtnControl:e.delBtnControl,describe:e.describe,objImgKey:e.objImgKey,sortEle:e.sortEle,item:i,index:a}})}))],2)])}),[],!1,null,null,null);t.a=m.exports},"96b7":function(e,t,i){"use strict";i.r(t);i("caad");var a=i("5530"),n=i("b85c"),o=(i("99af"),i("4de4"),i("d3b7"),i("a9e3"),i("14d9"),i("a434"),i("b0c0"),i("b64b"),i("e9c4"),i("d81d"),i("159b"),i("fb6a"),i("2235")),s=i("3b95"),l=i("dac0"),r=i("bbf0"),c=i("6d22"),u=i("8a94"),d=i("4ec3"),p=i("bb77"),h=i("b76a"),m=i.n(h),f=i("edaf"),g={components:{editor:l.a,affiliationHotel:s.a,imageTipDia:c.a,uploadFile:u.a,HelpModule:r.a,draggable:m.a,quickInput:f.a},data:function(){return{isGroup:!1,loading:!1,active:0,guildList:[{name:"产品管理",pagePath:""},{name:"新增预约产品",pagePath:""}],seeTemple:!1,seeTempleImgUrl:"https://htmlqiniu.jihex.com/saas/saas-ui/eg_prouduct1_pic.png",productName:"",couponName:"",hasEditCouponName:!1,focusCouponName:!1,content:"",containList:[],contentTypeList:[{value:"住",label:"住"},{value:"食",label:"食"},{value:"享",label:"享"},{value:"赠",label:"赠"},{value:"自定义",label:"自定义"}],useGuide:"1、若确认出行日期，请选择【直接预订】选择入住时间和房型【确定】后【提交订单】，等待商户确认，如确认接单即预定成功，如取消订单即预定失败将全额退款；\n2、若暂未确认具体出行日期，请选择【立即囤券】，需要使用的时候，进入【我的】-【卡券】找到该券，点击进入详情，点击券下方的【立即使用】按钮，选择入住时间和房型【确定】后【提交订单】，是否预定成功以系统确认订单为准，预定成功即可入住。",htmlDesc:"",notice:"",fileList:[],dialogImageUrl:"",isHover:"",imgList:[],productId:"",imgMax:6,category:[],categoryId:"",isSubProduct:!1,selectMerchantName:"",selectMerchantId:"",chooseHotelDia:!1,hotelIdList:[],roleType:"",isSave:"",briefDesc:"",individualInfo:!1,isSysRp:!1,windowWidth:0,windowHeight:0,maxH:0,showHelpModule:!0,list:[{title:"01. 用户侧示例图",imgUrl:"https://htmlqiniu.jihex.com/saas/saas-ui/eg_product7_pic.png",text:""},{title:"02. 常见问题",imgUrl:"",text:'<div class="qTitle">Q1：套餐内容、购买须知在用户侧如何换行展示？</div><div class="text">换行请按“enter”回车键</div><div class="qTitle">Q2：为什么无法保存图文描述？会有警告提示？</div><div class="text">请勿复制其他网站的图文直接贴入，系统暂不支持。请点击上传图片去导入</div>'}],newProGuide:!1,showContainList:!1,showBookRuleList:!1,imgBlank:!0,productIncludeGuide:!1,lineFeedText:"换行请按“enter”回车键",bookingRuleCfg:{occupancy:"2大1小",extraBedPolicy:{extraBed:"不可加床",additional:""},petPolicy:{pet:"不可携带",additional:""},checkinPolicy:{checkinTime:"14:00",checkoutTime:"12:00",additional:""},markupPricePolicy:"",invoicePolicy:"",others:"在线预约订单需酒店二次确认，最终以酒店接单为准。"},extraBedMap:[{value:"不可加床",label:"不可加床"},{value:"可加床",label:"可加床"}],petMap:[{value:"不可携带",label:"不可携带"},{value:"可携带",label:"可携带"}],checkinDafault:null,checkoutDafault:null,petPolicyIsFocus:!1,invoicePolicyIsFocus:!1,scrollTop:!0,inputTimeout:null,referPrice:"",showReferPrice:"0",unitMap:[{label:"晚",value:"晚"},{label:"份",value:"份"},{label:"次",value:"次"},{label:"张",value:"张"},{label:"天",value:"天"}],quickInputDia:!1}},methods:{saveIncludes:function(e){this.containList=this.containList.concat(e)},numAndReferPriceChange:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;i&&a&&(a.unit="住"===i?"晚":"食"===i?"份":""),this.inputTimeout&&clearTimeout(this.inputTimeout),this.inputTimeout=setTimeout((function(){var t=0,i=e.containList.filter((function(e){return!["自定义","br"].includes(e.type)}));if(i&&i.length){var a,o=Object(n.a)(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;""===s.count||""===s.referPrice||isNaN(s.referPrice)||isNaN(s.count)||(t+=Number(e.BigNumber(s.count).times(s.referPrice).times(100).toNumber()))}}catch(e){o.e(e)}finally{o.f()}}else e.referPrice="";t&&(e.referPrice=t),e.inputTimeout=null}),t)},invoicePolicyBlur:function(){this.invoicePolicyIsFocus=!1,this.petPolicyIsFocus=!1},invoicePolicyFocus:function(){this.invoicePolicyIsFocus=!0},petPolicyFocus:function(){this.petPolicyIsFocus=!0},individualChange:function(e){e&&(this.showBookRuleList=!1)},addBookRuleList:function(){this.showBookRuleList=!0},couponNameFocus:function(){this.focusCouponName=!0},couponNameBlur:function(){this.focusCouponName=!1},couponNameInput:function(){this.focusCouponName&&(this.hasEditCouponName=!0)},addBlankLine:function(){this.showContainList=!0,this.containList.push({type:"br",content:"",count:"",unit:"",referPrice:"",visible:!1})},delContentItem:function(e,t){this.containList.splice(t,1),e.visible=!1,this.numAndReferPriceChange(0)},addContentList:function(){this.showContainList=!0,this.containList.push({type:"",content:"",count:"",unit:"",referPrice:"",visible:!1})},iknow:function(e){if(1===e){var t=document.querySelector(".posi .InfoModleTitle"),i=document.querySelector(".posi .InfoModleInner");t.style.zIndex="0",i.style.zIndex="0",this.newProGuide=!1,window.localStorage.setItem("newProGuide",!1)}else this.productIncludeGuide=!1,window.localStorage.setItem("productIncludeGuide",!1)},closeHelpModule:function(){this.showHelpModule=!this.showHelpModule},getProxyDts:p.Pb,getMySupplierList:d.Sg,getCookie:o.b,openChooseHotel:function(){this.chooseHotelDia=!0},getHotelCheck:function(e){if(e.length){var t=e[0],i=t.dt,a=t.name;this.selectMerchantName=a,this.selectMerchantId=i,this.hotelIdList=[i]}},insertContent:function(){var e=this;this.loading=!0;var t="";this.selectMerchantId&&(t={dt:this.selectMerchantId}),Object(d.sg)(t).then((function(t){if(e.loading=!1,"0"==t.data.sc){var i=t.data.data||"";e.htmlDesc=JSON.parse(JSON.stringify(i))}else e.$message.error(t.data.ErrorMsg||t.data.errorMsg)}))},open3:function(e){this.$message({message:e,type:"warning"})},open2:function(e){this.$message({message:e,type:"success"})},upImg:function(e){this.fileList.push("https://htmlqiniu.jihex.com/"+e.data)},submitInfo:function(){var e=this;if(1!=this.roleType||this.selectMerchantId)if(""!=this.productName)if(""!==this.couponName){var t=this.containList;if(!this.isSubProduct){if(0==this.imgList.length||this.imgList.length>6)return void this.open3("产品封面图片数量为1~6张");if(this.imgList.map((function(e){e.imgUrl=e.url,delete e.uid,delete e.status})),t.length){var i,a=Object(n.a)(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(""===o.type)return this.$message.warning("请选择类型");if(""===o.content&&"br"!==o.type)return["住","食","享","赠"].includes(o.type)?this.$message.warning("请输入名称"):this.$message.warning("请输入其他补充说明");if(""===o.count&&"br"!==o.type&&["住","食","享","赠"].includes(o.type))return this.$message.warning("请输入数量");if(o.count&&isNaN(o.count))return this.$message.warning("数量仅支持输入数字");if(""===o.unit&&"br"!==o.type&&["住","食","享","赠"].includes(o.type))return this.$message.warning("请输入单位");if(""===o.referPrice&&"br"!==o.type&&["住","食","享","赠"].includes(o.type))return this.$message.warning("请输入价值");if(o.referPrice&&isNaN(o.referPrice))return this.$message.warning("价值仅支持输入数字")}}catch(e){a.e(e)}finally{a.f()}if(t.length===t.filter((function(e){return"br"===e.type})).length)return this.$message.warning("请输入套餐内容")}if(this.showBookRuleList){if(""===this.bookingRuleCfg.occupancy)return void this.$message.warning("请输入可入住人数");if(this.bookingRuleCfg.checkinPolicy.checkinTime||this.bookingRuleCfg.checkinPolicy.checkoutTime){if(!this.bookingRuleCfg.checkinPolicy.checkinTime)return void this.$message.warning("请选择入住日可入住时间");if(!this.bookingRuleCfg.checkinPolicy.checkoutTime)return void this.$message.warning("请选择离店日退房时间")}if(""===this.bookingRuleCfg.invoicePolicy)return void this.$message.warning("请输入发票政策")}}if(this.$route.query.isSubProduct||this.isSysRp);else if(""==this.content&&0===t.length)return void this.open3("请输入套餐内容");if(""!=this.useGuide)if(""!=this.htmlDesc){var s={productName:this.productName,couponName:this.couponName,notice:this.notice,useGuide:this.useGuide,content:this.content,imgList:this.imgList,htmlDesc:this.htmlDesc,categoryId:this.categoryId,dt:this.selectMerchantId||"",briefDesc:this.briefDesc||"",imgBlank:this.imgBlank,showReferPrice:"1"===this.showReferPrice,referPrice:this.referPrice};if(this.$route.query.isSubProduct&&(this.individualInfo?s.individualInfo="0":s.individualInfo="1"),t.length&&(s.containList=t.map((function(e){return"自定义"===e.type?{type:e.type,content:e.content}:{type:e.type,content:e.content,count:e.count||"",unit:e.unit||"",referPrice:e.referPrice?100*Number(e.referPrice):""}}))),this.showBookRuleList&&("不可加床"===this.bookingRuleCfg.extraBedPolicy.extraBed&&(this.bookingRuleCfg.extraBedPolicy.additional=""),"不可携带"===this.bookingRuleCfg.petPolicy.pet&&(this.bookingRuleCfg.petPolicy.additional=""),s.bookingRuleCfg=this.bookingRuleCfg,s.notice=""),this.loading=!0,""==this.productId)Object(d.ob)(s).then((function(t){e.loading=!1;var i=t.data,a=i.data;if(0==i.sc){e.open2("预约产品基础信息保存成功");var n={productId:a.productId,menuName:e.$route.query.menuName,roleType:e.roleType||""};e.isSubProduct&&(n.isSubProduct=!0),e.$router.push({path:"/main/productManage/bookCommoditySalesInfo",query:n})}else e.$message({type:"error",message:t.data.ErrorMsg||t.data.errorMsg})})).catch((function(t){console.log(t),e.open3(t),e.loading=!1}));else{var l=this,r=this.productId;Object(d.Zc)(r,s).then((function(t){e.loading=!1;var i=t.data;i.data;if(0==i.sc){e.open2("预约产品基础信息修改成功");var a={productId:e.productId,menuName:e.$route.query.menuName,roleType:e.roleType||""};e.isSubProduct&&(a.isSubProduct=!0),e.isSubProduct?(l._CommoditySatae(),e.$router.push({name:e.$route.query.menuName||"myGoods"})):e.$router.push({path:"/main/productManage/bookCommoditySalesInfo",query:a})}else e.$message({type:"error",message:t.data.ErrorMsg||t.data.errorMsg})})).catch((function(t){console.log(t),e.open3(t),e.loading=!1}))}}else this.open3("请输入图文描述");else this.open3("请输入使用说明")}else his.open3("请输入卡券名称");else this.open3("请输入产品名称");else this.open3("请选择归属商户")},_CommoditySatae:function(){var e=this,t=this.productId;t&&Object(d.d)(t,{status:1}).then((function(t){var i=t.data;0==i.sc?e.open2("上线成功"):e.open3(i.errorMsg||i.ErrorMsg||"上线失败，请重新上线！")}))},getBookingproductBasicinfoFunction:function(){var e=this,t=this.productId;Object(d.Pe)(t).then((function(t){var i=t.data,n=i.data,o=i.ErrorMsg,s=i.errorMsg,l=i.sc;if(0==l){if(n.imgList)n.imgList.forEach((function(t,i){e.imgList.push({url:t.imgUrl,sortNo:t.sortNo&&t.sortNo||i+1})}));console.log(e.imgList,"this.imgList"),e.imgBlank=n.imgBlank,e.notice=n.notice||"",n.notice?e.showBookRuleList=!1:e.showBookRuleList=!0,e.bookingRuleCfg=Object.keys(n.bookingRuleCfg).length&&n.bookingRuleCfg||{occupancy:"2大1小",extraBedPolicy:{extraBed:"不可加床",additional:""},petPolicy:{pet:"不可携带",additional:""},checkinPolicy:{checkinTime:"14:00",checkoutTime:"12:00",additional:""},markupPricePolicy:"",invoicePolicy:"",others:"在线预约订单需酒店二次确认，最终以酒店接单为准。"},e.content=n.content||"",e.containList=n.containList.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{content:e.content||"",count:e.count||"",unit:e.unit||"",referPrice:e.referPrice?Number(e.referPrice)/100:"",visible:!1})}))||[],e.referPrice=n.referPrice||"",e.showReferPrice=n.showReferPrice&&n.showReferPrice?"1":"0",n.content?e.showContainList=!1:e.showContainList=!0,e.htmlDesc=n.htmlDesc,e.useGuide=n.useGuide,e.categoryId=n.categoryId,e.productName=n.productName,e.couponName=n.couponName,e.selectMerchantName=n.dtName||"",e.selectMerchantId=n.dt||"",e.isSave=n.dt||"",e.briefDesc=n.briefDesc||"",e.$route.query.isSubProduct&&(1==n.individualInfo?e.individualInfo=!1:e.individualInfo=!0),!0===n.isSysRp&&(e.isSysRp=n.isSysRp,e.isSubProduct=n.isSysRp)}else e.$message({type:"error",message:o||s||l})}))},getContent:function(e){this.htmlDesc=e},handleScroll:function(e){this.scrollTop&&(e.target.scrollTop=0,this.scrollTop=!1)}},created:function(){this.checkinDafault=new Date,this.checkinDafault.setHours(14),this.checkinDafault.setMinutes(0),this.checkoutDafault=new Date,this.checkoutDafault.setHours(12),this.checkoutDafault.setMinutes(0)},mounted:function(){var e=this;window.addEventListener("scroll",this.handleScroll,!0);var t=this.$route.query,i=t.menuName,a=t.categoryId;a&&(this.categoryId=a),this.roleType=this.$route.query.roleType||"",this.$route.query.isSubProduct&&(this.isSubProduct=this.$route.query.isSubProduct);var n=[{name:"产品",pagePath:""},{name:"我的产品",pagePath:"/main/productManage/myGoods"},{name:"发布在线预约套餐"}];if(1==this.roleType&&"agentGoods"===i&&(n=[{name:"服务"},{name:"代发布产品",pagePath:"/main/productManage/agentGoods"},{name:"代发在线预约套餐"}]),i&&"dtGoods"===i&&(n[1]={name:"代销产品",pagePath:"/main/productManage/dtGoods"}),this.guildList=n,this.isGroup=this.getCookie("isGroup"),this.loading=!1,this.$route.query.productId)this.productId=this.$route.query.productId,this.getBookingproductBasicinfoFunction();else if(this.containList=[{type:"",content:"",count:"",unit:"",referPrice:"",visible:!1}],this.showContainList=!0,this.showBookRuleList=!0,window.localStorage.getItem("newProGuide"))this.newProGuide=!1;else{this.newProGuide=!0;var o=document.querySelector(".posi .InfoModleTitle"),s=document.querySelector(".posi .InfoModleInner");o.style.zIndex="3004",s.style.zIndex="3004"}window.onresize=function(){return e.windowWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,void(e.windowHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)};var l=document.querySelectorAll(".concentWarpOne"),r=document.querySelector(".helpModuleWrp").clientWidth-236-80;if(r>844)for(var c=0;c<l.length;c++)l[c].style.width="844px";else for(var u=0;u<l.length;u++)l[u].style.width=r+"px"},updated:function(){if(!this.$route.query.productId&&("false"===window.localStorage.getItem("newProGuide")&&(this.productIncludeGuide="false"!==window.localStorage.getItem("productIncludeGuide"),this.productIncludeGuide))){var e=document.querySelector(".guideBoxWrp"),t=document.querySelector(".whiteBox"),i=document.querySelector(".tableBox .tableBody .row");i&&(i.style.zIndex="3002"),t.style.width=e.clientWidth-20+"px"}window.scrollTo(0,0)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("scroll",this.handleScroll,!0)},watch:{windowWidth:function(){var e=document.querySelectorAll(".concentWarpOne"),t=document.querySelector(".helpModuleWrp").clientWidth-80;if(this.showHelpModule&&(t-=236),t>844)for(var i=0;i<e.length;i++)e[i].style.width="844px";else for(var a=0;a<e.length;a++)e[a].style.width=t+"px"},windowHeight:function(e){e&&(this.maxH=this.windowHeight-64)},showHelpModule:function(e){var t=document.querySelectorAll(".concentWarpOne"),i=document.querySelector(".helpModuleWrp").clientWidth-80;if(e&&(i-=236),i>844)for(var a=0;a<t.length;a++)t[a].style.width="844px";else for(var n=0;n<t.length;n++)t[n].style.width=i+"px"},productName:function(e){""!==this.productId||this.hasEditCouponName||(e.length<=30?this.couponName=e:this.couponName=e.slice(0,30))}}},v=(i("bd08"),i("be75"),i("2877")),b=Object(v.a)(g,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"wrapper_box",staticStyle:{"font-size":"12px",color:"#77797c"},attrs:{id:"newBookCommodity","element-loading-text":"拼命加载中","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{click:function(t){return t.stopPropagation(),e.invoicePolicyBlur.apply(null,arguments)}}},[t("tm-crumb",{attrs:{guildList:e.guildList}},[t("tm-steps",{attrs:{steps:["基本信息","售卖规则","预订规则","购买规则"],active:1}})],1),t("div",{staticClass:"flex helpModuleWrp"},[t("div",{staticClass:"productWrp"},[t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.roleType,expression:"roleType==1"}],staticClass:"product wrapper_box_radius background_white wrapper_box_border",staticStyle:{"margin-bottom":"10px"}},[t("div",{staticClass:"concentWarpOne",staticStyle:{"max-width":"844px",margin:"0 auto"}},[e._m(0),t("div",{staticClass:"newbookProInfoModle productName",staticStyle:{"padding-bottom":"24px"}},[e._m(1),t("div",{staticClass:"InfoModleInner",staticStyle:{"line-height":"20px"}},[e.selectMerchantId?t("div",[t("span",{staticClass:"hotelCname",staticStyle:{"line-height":"20px"}},[e._v(e._s(e.selectMerchantName))]),e.isSave?e._e():t("span",{staticStyle:{"line-height":"20px","margin-left":"15px"}},[t("tm-button",{attrs:{type:"text"},on:{click:function(t){return e.openChooseHotel()}}},[e._v("修改商户")])],1)]):t("div",{staticStyle:{"line-height":"20px"}},[t("tm-button",{attrs:{type:"text"},on:{click:function(t){return e.openChooseHotel()}}},[e._v("添加商户")])],1)])])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isSubProduct,expression:"isSubProduct"}],staticClass:"product wrapper_box_radius background_white wrapper_box_border",staticStyle:{"margin-bottom":"10px"}},[t("div",{staticClass:"concentWarpOne",staticStyle:{"max-width":"844px",margin:"0 auto"}},[e._m(2),t("div",{staticClass:"newbookProInfoModle productName",staticStyle:{"padding-bottom":"24px","line-height":"18px"}},[t("div",{staticStyle:{width:"118px","text-align":"right"}},[e._v("基本信息同步：")]),t("div",{staticClass:"InfoModleInner",staticStyle:{display:"flex","align-items":"flex-start","padding-left":"0"}},[t("el-radio-group",{on:{change:e.individualChange},model:{value:e.individualInfo,callback:function(t){e.individualInfo=t},expression:"individualInfo"}},[t("el-radio",{attrs:{label:!0}},[e._v("开启同步")]),t("el-radio",{attrs:{label:!1}},[e._v("关闭同步")])],1),t("div",{staticStyle:{color:"var(--color-text-grey-1)"}},[e._v(" "+e._s(e.individualInfo?"(注：同步打开后自动同步供货产品信息)":"(注：同步关闭后下方字段支持输入，用户端展示输入信息)")+" ")])],1)])])]),t("div",{staticClass:"product wrapper_box_radius background_white wrapper_box_border",staticStyle:{"margin-bottom":"10px"}},[t("div",{staticClass:"concentWarpOne",staticStyle:{"max-width":"844px",margin:"0 auto"}},[[t("div",{staticClass:"wrapperTitle"},[t("span",[e._v("基本信息")]),t("div",{staticClass:"helpBtn",on:{click:e.closeHelpModule}},[t("span",[e._v("填写帮助")]),t("img",{attrs:{src:"https://htmlqiniu.jihex.com/saas/saas-ui/fillInToHelp_ic.svg",alt:""}})])]),t("div",{staticClass:"newbookProInfoModle productName"},[e._m(3),t("div",{staticClass:"InfoModleInner"},[t("el-input",{attrs:{type:"textarea",placeholder:"",maxlength:"60",disabled:e.individualInfo,"show-word-limit":""},model:{value:e.productName,callback:function(t){e.productName=t},expression:"productName"}})],1)])],e.isSubProduct?e._e():[t("div",{staticClass:"newbookProInfoModle productName"},[e._m(4),t("div",{staticClass:"InfoModleInner"},[t("el-input",{attrs:{placeholder:"输入产品标题后将自动生成券名称，您也可以修改，最多允许输入30个字",maxlength:"30","show-word-limit":""},on:{focus:e.couponNameFocus,blur:e.couponNameBlur,input:e.couponNameInput},model:{value:e.couponName,callback:function(t){e.couponName=t},expression:"couponName"}}),t("div",{staticClass:"color-acb1b8 margin-top"},[e._v(" (用户如选择“立即囤券”进行购买，系统将自动发放套餐券至用户账户，请设置券名称便于用户查找) ")])],1)])],!e.isSubProduct||e.isSysRp?[t("div",{staticClass:"newbookProInfoModle productName"},[e._m(5),t("div",{staticClass:"InfoModleInner"},[t("el-input",{attrs:{type:"textarea",placeholder:"",maxlength:"60",disabled:e.individualInfo,"show-word-limit":"",rows:3},model:{value:e.briefDesc,callback:function(t){e.briefDesc=t},expression:"briefDesc"}}),t("div",{staticClass:"tipWrap"},[t("span",{staticClass:"promptFont"},[e._v("(注：建议完善推荐语，分享海报的效果会更佳哦)")]),t("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(t){e.seeTemple=!0}}},[e._v("查看海报示例图")])],1)],1)])]:e._e(),e.isSubProduct?e._e():[t("div",{staticClass:"newbookProInfoModle uploadCover posi"},[e._m(6),t("div",{staticClass:"InfoModleInner",staticStyle:{"padding-left":"0px"}},[t("uploadFile",{attrs:{displaySpecification:!0,disable:e.isSubProduct,dragValue:!0,uploadSize:e.imgMax,sortEle:!0,remind:"(注：最多6张，大小5M以内；系统自动等比例居中裁剪；可拖拽图片调整顺序)"},model:{value:e.imgList,callback:function(t){e.imgList=t},expression:"imgList"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.newProGuide,expression:"newProGuide"}],staticClass:"mask-layer"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.newProGuide,expression:"newProGuide"}],staticClass:"guideWrp"},[t("div",{staticClass:"stepWrp"},[t("img",{staticClass:"guidingImg",attrs:{src:"https://htmlqiniu.jihex.com/saas/saas-ui/202211250953753.png",alt:""}}),t("div",{staticClass:"one-step"},[t("tm-button",{attrs:{type:"primary-s"},on:{click:function(t){return e.iknow(1)}}},[e._v("我知道了")])],1)])])])],e.isSubProduct?e._e():t("div",{staticClass:"newbookProInfoModle productName"},[t("div",{staticClass:"InfoModleTitle"},[t("div",{style:"".concat(""!==e.content?"line-height: 26px":"line-height: 24px")},[e._v("产品包含：")])]),t("div",{staticClass:"InfoModleInner guideBoxWrp"},[""!==e.content?t("div",{staticClass:"newContentTipBox"},[t("i",{staticClass:"iconfont icontishi"}),t("div",[e._v(" 套餐内容的配置方式升级啦，如需添加或编辑请重新录入完整套餐内容。添加套餐内容后，历史配置将失效。"),t("span",{staticClass:"textBtn",on:{click:e.addContentList}},[e._v("点击添加/编辑")])])]):e._e(),""!==e.content?t("el-input",{staticClass:"margin-bottom-16",attrs:{type:"textarea",placeholder:e.lineFeedText,maxlength:"800",disabled:"","show-word-limit":"",rows:7},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}):e._e(),e.showContainList?t("div",{staticClass:"flex flex-align-center margin-bottom-16"},[t("el-button",{attrs:{size:"mini",plain:""},on:{click:function(t){e.quickInputDia=!0}}},[e._v("快捷输入")]),t("span",{staticClass:"color-acb1b8 margin-left"},[e._v("(输入后系统将自动识别填充到下方的“自定义”类型)")])],1):e._e(),e.showContainList?t("div",{staticClass:"tableBox"},[t("div",{staticClass:"tableHead"},[t("div",{staticClass:"type"},[e._v("类型")]),t("div",{staticClass:"name"},[e._v("名称")]),t("div",{staticClass:"num flex flex-align-center"},[e._v("数量")]),t("div",{staticClass:"unit flex flex-align-center"},[e._v("单位")]),t("div",{staticClass:"referPrice flex flex-align-center"},[t("div",[e._v("价值")]),t("span",{staticClass:"margin-left-4"},[e._v("(元)")]),t("el-tooltip",{attrs:{content:"将作为市场价计算依据，请正确填写；市场价计算方式为：每条内容的价值*数量之和",placement:"top",effect:"dark"}},[t("i",{staticClass:"iconfont icontishi"})])],1),t("div",{staticClass:"operate"},[e._v("操作")])]),t("div",{staticClass:"tableBody"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.productIncludeGuide,expression:"productIncludeGuide"}],staticClass:"masker"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.productIncludeGuide,expression:"productIncludeGuide"}],staticClass:"whiteBox"},[t("div",{staticClass:"guide_imgWrp"},[t("img",{staticClass:"guide_img",attrs:{src:"https://htmlqiniu.jihex.com/saas/saas-ui/202302171445678.png",alt:""}}),t("div",{staticClass:"stepBtnWrp"},[t("tm-button",{attrs:{type:"primary-s"},on:{click:function(t){return e.iknow(2)}}},[e._v("我知道了")])],1)])]),e._l(e.containList,(function(i,a){return t("div",{directives:[{name:"show",rawName:"v-show",value:e.productIncludeGuide,expression:"productIncludeGuide"}],key:a-1,staticClass:"row"},[t("div",{directives:[{name:"show",rawName:"v-show",value:"br"!==i.type,expression:"i.type !== 'br'"}],staticClass:"type"},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:i.type,callback:function(t){e.$set(i,"type",t)},expression:"i.type"}},e._l(e.contentTypeList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),["住","食","享","赠",""].includes(i.type)?t("div",{staticClass:"name"},[t("el-input",{attrs:{placeholder:"请输入名称"},model:{value:i.content,callback:function(t){e.$set(i,"content",t)},expression:"i.content"}})],1):e._e(),"自定义"===i.type?t("div",{staticClass:"name"},[t("el-input",{attrs:{placeholder:"请输入其他补充说明",type:"textarea",autosize:{minRows:1,maxRows:3},maxlength:"500","show-word-limit":""},model:{value:i.content,callback:function(t){e.$set(i,"content",t)},expression:"i.content"}})],1):e._e(),["住","食","享","赠",""].includes(i.type)?t("div",{staticClass:"num"},[t("el-input",{attrs:{placeholder:"数量"},model:{value:i.count,callback:function(t){e.$set(i,"count",t)},expression:"i.count"}})],1):e._e(),["住","食","享","赠",""].includes(i.type)?t("div",{staticClass:"unit"},[t("el-select",{attrs:{placeholder:"单位"},model:{value:i.unit,callback:function(t){e.$set(i,"unit",t)},expression:"i.unit"}},e._l(e.unitMap,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),["住","食","享","赠",""].includes(i.type)?t("div",{staticClass:"referPrice"},[t("el-input",{attrs:{placeholder:"单价"},model:{value:i.referPrice,callback:function(t){e.$set(i,"referPrice",t)},expression:"i.referPrice"}})],1):e._e(),"br"===i.type?t("div",{staticClass:"blankBox"},[t("img",{attrs:{src:"https://htmlqiniu.jihex.com/saas/saas-ui/202302021142818.png",alt:""}}),e._v(" 空白行 ")]):e._e(),t("div",{staticClass:"operate",style:"br"===i.type?"height: 18px":""},[t("i",{staticClass:"iconfont icondrag_ic margin-right"}),t("i",{staticClass:"iconfont iconshanchu-qingjiaohu",style:"br"===i.type?"line-height: 18px":"line-height: 32px"})])])})),t("draggable",{directives:[{name:"show",rawName:"v-show",value:!e.productIncludeGuide,expression:"!productIncludeGuide"}],attrs:{handle:".icondrag_ic",animation:"300"},model:{value:e.containList,callback:function(t){e.containList=t},expression:"containList"}},[t("transition-group",e._l(e.containList,(function(i,a){return t("div",{key:a-1,staticClass:"row"},[t("div",{directives:[{name:"show",rawName:"v-show",value:"br"!==i.type,expression:"i.type !== 'br'"}],staticClass:"type"},[t("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.numAndReferPriceChange(0,t,i)}},model:{value:i.type,callback:function(t){e.$set(i,"type",t)},expression:"i.type"}},e._l(e.contentTypeList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),["住","食","享","赠",""].includes(i.type)?t("div",{staticClass:"name"},[t("el-input",{attrs:{placeholder:"请输入名称"},model:{value:i.content,callback:function(t){e.$set(i,"content",t)},expression:"i.content"}})],1):e._e(),"自定义"===i.type||"其他说明"===i.type?t("div",{staticClass:"name"},[t("el-input",{attrs:{placeholder:"请输入其他补充说明",type:"textarea",autosize:{minRows:1,maxRows:3},maxlength:"500","show-word-limit":""},model:{value:i.content,callback:function(t){e.$set(i,"content",t)},expression:"i.content"}})],1):e._e(),["住","食","享","赠",""].includes(i.type)?t("div",{staticClass:"num"},[t("el-input",{attrs:{placeholder:"数量"},on:{input:function(t){return e.numAndReferPriceChange(1e3)}},model:{value:i.count,callback:function(t){e.$set(i,"count",t)},expression:"i.count"}})],1):e._e(),["住","食","享","赠",""].includes(i.type)?t("div",{staticClass:"unit"},[t("el-select",{attrs:{placeholder:"单位"},model:{value:i.unit,callback:function(t){e.$set(i,"unit",t)},expression:"i.unit"}},e._l(e.unitMap,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),["住","食","享","赠",""].includes(i.type)?t("div",{staticClass:"referPrice"},[t("el-input",{attrs:{placeholder:"单价"},on:{input:function(t){return e.numAndReferPriceChange(1e3)}},model:{value:i.referPrice,callback:function(t){e.$set(i,"referPrice",t)},expression:"i.referPrice"}})],1):e._e(),"br"===i.type?t("div",{staticClass:"blankBox"},[t("img",{attrs:{src:"https://htmlqiniu.jihex.com/saas/saas-ui/202302021142818.png",alt:""}}),e._v(" 空白行 ")]):e._e(),t("div",{staticClass:"operate",style:"br"===i.type?"height: 18px":""},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"拖拽排序",placement:"top"}},[t("i",{staticClass:"iconfont icondrag_ic margin-right"})]),t("el-popover",{attrs:{placement:"top",width:"160"},model:{value:i.visible,callback:function(t){e.$set(i,"visible",t)},expression:"i.visible"}},[t("p",[e._v("确认删除吗？")]),t("div",{staticStyle:{"text-align":"right",margin:"0"}},[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){i.visible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.delContentItem(i,a)}}},[e._v("确认")])],1),t("el-tooltip",{staticClass:"item",attrs:{slot:"reference",effect:"dark",content:"删除",placement:"top"},slot:"reference"},[t("i",{staticClass:"iconfont iconshanchu-qingjiaohu",style:"br"===i.type?"line-height: 18px":"line-height: 32px"})])],1)],1)])})),0)],1),t("div",{staticClass:"addBtnBox flex flex-align-center"},[t("tm-button",{attrs:{type:"text-add",right:10},on:{click:e.addContentList}},[e._v("添加套餐内容")]),t("div",{staticClass:"line"}),t("tm-button",{attrs:{type:"text-add",right:10,left:10},on:{click:e.addBlankLine}},[e._v("插入空白行")]),t("el-popover",{attrs:{placement:"right",title:"",width:"256",trigger:"hover"}},[t("img",{staticStyle:{width:"256px",height:"208px","vertical-align":"top"},attrs:{src:"https://htmlqiniu.jihex.com/saas/saas-ui/eg_product11_pic.png",alt:""}}),t("tm-button",{attrs:{slot:"reference",type:"text-secondary"},slot:"reference"},[e._v("查看示例")])],1)],1)],2)]):e._e(),e.showContainList?t("div",{staticClass:"referPriceBox margin-top-16"},[t("div",{staticClass:"flex flex-align-center"},[t("span",{staticClass:"font-weight-600"},[e._v("共计市场价：")]),e.referPrice?t("span",{staticClass:"font-weight-600"},[e._v("¥"+e._s(e.BigNumber(e.referPrice).div(100)))]):t("span",{staticClass:"color-acb1b8"},[e._v("填写数量和价值后将自动计算")])]),t("div",{staticClass:"flex flex-align-center margin-top"},[t("span",{staticClass:"margin-right-4"},[e._v("市场价是否在用户侧展示：")]),t("el-radio",{attrs:{label:"1"},model:{value:e.showReferPrice,callback:function(t){e.showReferPrice=t},expression:"showReferPrice"}},[e._v("展示")]),t("el-radio",{attrs:{label:"0"},model:{value:e.showReferPrice,callback:function(t){e.showReferPrice=t},expression:"showReferPrice"}},[e._v("隐藏 "),t("span",{staticClass:"color-acb1b8"},[e._v("（视频号默认展示，不支持隐藏）")])])],1)]):e._e()],1)]),e.isSubProduct?e._e():t("div",{staticClass:"newbookProInfoModle productName"},[t("div",{staticClass:"InfoModleTitle"},[t("div",{style:"".concat(""!==e.notice?"line-height: 26px":"line-height: 18px")},[e._v("预约说明：")])]),t("div",{staticClass:"InfoModleInner"},[""!==e.notice?t("div",{staticClass:"newContentTipBox newBookRuleTipBox"},[t("i",{staticClass:"iconfont icontishi"}),t("div",[e._v(" 预约的配置方式升级啦，如需添加或编辑请重新录入完整预约说明。添加预约说明后，历史配置将失效。"),t("span",{staticClass:"textBtn",on:{click:e.addBookRuleList}},[e._v("点击添加/编辑")])])]):e._e(),""!==e.notice?t("div",{staticClass:"tipText margin-bottom"},[e._v("(预约说明可参考下方模版填写，换行请按“enter”回车键)")]):e._e(),""!==e.notice?t("el-input",{class:e.showBookRuleList?"margin-bottom-24":"",staticStyle:{"line-height":"18px"},attrs:{type:"textarea",placeholder:e.lineFeedText,maxlength:"2000",disabled:"","show-word-limit":"",rows:8},model:{value:e.notice,callback:function(t){e.notice=t},expression:"notice"}}):e._e(),e.showBookRuleList?t("div",[e._m(7),e._m(8),t("div",{staticClass:"bookRuleRow flex flex-align-center"},[t("div",{staticClass:"bookRuleTitle margin-right-4"},[e._v("可入住人数：")]),t("div",{staticClass:"bookRuleInfo"},[t("el-input",{model:{value:e.bookingRuleCfg.occupancy,callback:function(t){e.$set(e.bookingRuleCfg,"occupancy",t)},expression:"bookingRuleCfg.occupancy"}})],1)]),t("div",{staticClass:"bookRuleRow flex flex-align-center"},[t("div",{staticClass:"bookRuleTitle margin-right-4"},[e._v("加床政策：")]),t("div",{staticClass:"bookRuleInfo flex"},[t("el-select",{staticClass:"margin-right",staticStyle:{width:"94px","flex-shrink":"0"},model:{value:e.bookingRuleCfg.extraBedPolicy.extraBed,callback:function(t){e.$set(e.bookingRuleCfg.extraBedPolicy,"extraBed",t)},expression:"bookingRuleCfg.extraBedPolicy.extraBed"}},e._l(e.extraBedMap,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),"可加床"===e.bookingRuleCfg.extraBedPolicy.extraBed?t("el-input",{attrs:{placeholder:"选填，您可补充更详细的说明"},model:{value:e.bookingRuleCfg.extraBedPolicy.additional,callback:function(t){e.$set(e.bookingRuleCfg.extraBedPolicy,"additional",t)},expression:"bookingRuleCfg.extraBedPolicy.additional"}}):e._e()],1)]),e._m(9),t("div",{staticClass:"bookRuleRow flex"},[t("div",{staticClass:"bookRuleTitle margin-right-4",staticStyle:{"line-height":"32px"}},[e._v("宠物政策：")]),t("div",{staticClass:"bookRuleInfo flex"},[t("el-select",{staticClass:"margin-right",staticStyle:{width:"94px","flex-shrink":"0"},model:{value:e.bookingRuleCfg.petPolicy.pet,callback:function(t){e.$set(e.bookingRuleCfg.petPolicy,"pet",t)},expression:"bookingRuleCfg.petPolicy.pet"}},e._l(e.petMap,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),"可携带"===e.bookingRuleCfg.petPolicy.pet?t("div",{staticClass:"flex-1"},[t("el-input",{attrs:{placeholder:"选填，您可补充更详细的说明"},nativeOn:{click:function(t){return t.stopPropagation(),e.petPolicyFocus.apply(null,arguments)}},model:{value:e.bookingRuleCfg.petPolicy.additional,callback:function(t){e.$set(e.bookingRuleCfg.petPolicy,"additional",t)},expression:"bookingRuleCfg.petPolicy.additional"}}),e.petPolicyIsFocus?t("div",{staticClass:"margin-top color-acb1b8",on:{click:function(t){return t.stopPropagation(),e.petPolicyFocus.apply(null,arguments)}}},[e._v("示例：清洁费100元/间/晚")]):e._e()],1):e._e()],1)]),t("div",{staticClass:"bookRuleRow flex"},[e._m(10),t("div",{staticClass:"bookRuleInfo"},[t("div",{staticClass:"flex-1 color-333"},[t("div",{staticClass:"flex flex-align-center flex-wrap",staticStyle:{"line-height":"32px"}},[t("span",{staticClass:"margin-right margin-bottom"},[e._v("入住日")]),t("el-time-picker",{staticClass:"margin-bottom",staticStyle:{width:"150px"},attrs:{placeholder:"选择时间","value-format":"HH:mm",format:"HH:mm","default-value":e.checkinDafault},model:{value:e.bookingRuleCfg.checkinPolicy.checkinTime,callback:function(t){e.$set(e.bookingRuleCfg.checkinPolicy,"checkinTime",t)},expression:"bookingRuleCfg.checkinPolicy.checkinTime"}}),t("span",{staticClass:"margin-right margin-left margin-bottom"},[e._v("后可入住，离店日")]),t("el-time-picker",{staticClass:"margin-bottom",staticStyle:{width:"150px"},attrs:{placeholder:"选择时间","value-format":"HH:mm",format:"HH:mm","default-value":e.checkoutDafault},model:{value:e.bookingRuleCfg.checkinPolicy.checkoutTime,callback:function(t){e.$set(e.bookingRuleCfg.checkinPolicy,"checkoutTime",t)},expression:"bookingRuleCfg.checkinPolicy.checkoutTime"}}),t("span",{staticClass:"margin-left margin-bottom"},[e._v("前需退房")])],1),t("el-input",{attrs:{type:"textarea",placeholder:"选填，您可补充更详细的说明",maxlength:"100",rows:2,"show-word-limit":""},model:{value:e.bookingRuleCfg.checkinPolicy.additional,callback:function(t){e.$set(e.bookingRuleCfg.checkinPolicy,"additional",t)},expression:"bookingRuleCfg.checkinPolicy.additional"}})],1)])]),t("div",{staticClass:"bookRuleRow flex"},[e._m(11),t("div",{staticClass:"bookRuleInfo"},[t("el-input",{attrs:{placeholder:"换行请按“enter”回车键",type:"textarea",rows:8,maxlength:"800","show-word-limit":""},model:{value:e.bookingRuleCfg.markupPricePolicy,callback:function(t){e.$set(e.bookingRuleCfg,"markupPricePolicy",t)},expression:"bookingRuleCfg.markupPricePolicy"}})],1)]),t("div",{staticClass:"bookRuleRow flex"},[t("div",{staticClass:"bookRuleTitle margin-right-4",staticStyle:{"line-height":"32px"}},[e._v("发票政策：")]),t("div",{staticClass:"bookRuleInfo"},[t("el-input",{attrs:{placeholder:"请输入客人消费发票开具方",maxlength:"100","show-word-limit":""},nativeOn:{click:function(t){return t.stopPropagation(),e.invoicePolicyFocus.apply(null,arguments)}},model:{value:e.bookingRuleCfg.invoicePolicy,callback:function(t){e.$set(e.bookingRuleCfg,"invoicePolicy",t)},expression:"bookingRuleCfg.invoicePolicy"}}),e.invoicePolicyIsFocus?t("div",{staticClass:"margin-top color-acb1b8",on:{click:function(t){return t.stopPropagation(),e.invoicePolicyFocus.apply(null,arguments)}}},[t("div",[e._v("示例：酒店/门店开票：如需发票，入住时由酒店向您提供实付金额对应发票")]),t("div",[e._v("或者 平台开票：如需发票，离店订单完成后，在订单详情页申请发票，在线向您提供实付金额对应发票")])]):e._e()],1)]),e._m(12),t("div",{staticClass:"bookRuleRow flex",staticStyle:{"margin-bottom":"0"}},[e._m(13),t("div",{staticClass:"bookRuleInfo"},[t("el-input",{attrs:{placeholder:"换行请按“enter”回车键",type:"textarea",rows:8,maxlength:"800","show-word-limit":""},model:{value:e.bookingRuleCfg.others,callback:function(t){e.$set(e.bookingRuleCfg,"others",t)},expression:"bookingRuleCfg.others"}})],1)])]):e._e()],1)]),t("div",{staticClass:"newbookProInfoModle"},[e._m(14),t("div",{staticClass:"InfoModleInner",staticStyle:{"padding-left":"0px"}},[t("div",{staticClass:"margin-bottom-16 flex flex-align-center"},[t("el-checkbox",{model:{value:e.imgBlank,callback:function(t){e.imgBlank=t},expression:"imgBlank"}},[e._v("图片间增加空隙")]),t("el-popover",{attrs:{placement:"right",title:"",width:"394",trigger:"hover"}},[t("img",{staticStyle:{width:"394px",height:"406px","vertical-align":"top"},attrs:{src:"https://htmlqiniu.jihex.com/saas/saas-ui/202302021412812.png",alt:""}}),t("tm-button",{attrs:{slot:"reference",type:"text",left:10},slot:"reference"},[e._v("查看示例")])],1)],1),t("editor",{class:e.individualInfo?"disabledClass":"",staticStyle:{width:"100%",height:"530px"},attrs:{disabledValue:e.individualInfo,fromContent:e.htmlDesc,id:"commodityEditor",imgBlank:e.imgBlank,placeholder:"请准确认真的描述下您的产品吧，有助于转化"},on:{getContent:e.getContent}})],1)]),t("div",{staticClass:"newbookProInfoModle productName",staticStyle:{"padding-bottom":"24px"}},[e._m(15),t("div",{staticClass:"InfoModleInner"},[t("el-input",{attrs:{type:"textarea",placeholder:e.lineFeedText,maxlength:"2000",disabled:e.individualInfo,"show-word-limit":"",rows:7},model:{value:e.useGuide,callback:function(t){e.useGuide=t},expression:"useGuide"}})],1)])],2)]),t("div",{staticClass:"footerBox wrapper_box_radius background_white wrapper_box_border"},[t("tm-button",{attrs:{type:"primary-d"},nativeOn:{click:function(t){return e.submitInfo.apply(null,arguments)}}},[e._v(e._s(e.isSubProduct?"保存并上线":"保存并下一步"))])],1)]),t("HelpModule",{attrs:{maxH:e.maxH,show:e.showHelpModule,list:e.list}})],1),t("imageTipDia",{attrs:{title:"海报示例图",imgUrl:e.seeTempleImgUrl},model:{value:e.seeTemple,callback:function(t){e.seeTemple=t},expression:"seeTemple"}}),t("affiliationHotel",{attrs:{isRadio:!0,apiFunction:e.getMySupplierList,searchFunction:e.getProxyDts,hasChecked:e.hotelIdList},on:{handelChoose:e.getHotelCheck},model:{value:e.chooseHotelDia,callback:function(t){e.chooseHotelDia=t},expression:"chooseHotelDia"}}),t("quickInput",{on:{saveIncludes:e.saveIncludes},model:{value:e.quickInputDia,callback:function(t){e.quickInputDia=t},expression:"quickInputDia"}})],1)}),[function(){var e=this._self._c;return e("div",{staticClass:"wrapperTitle"},[e("span",[this._v("归属商户")])])},function(){var e=this._self._c;return e("div",{staticClass:"InfoModleTitle",staticStyle:{"margin-top":"0px"}},[e("span",[this._v("归属商户：")])])},function(){var e=this._self._c;return e("div",{staticClass:"wrapperTitle"},[e("span",[this._v("同步设置")])])},function(){var e=this._self._c;return e("div",{staticClass:"InfoModleTitle"},[e("div",[this._v("产品标题：")])])},function(){var e=this._self._c;return e("div",{staticClass:"InfoModleTitle"},[e("div",[this._v("券名称：")])])},function(){var e=this._self._c;return e("div",{staticClass:"InfoModleTitle"},[e("div",{staticStyle:{"line-height":"32px"}},[this._v("产品亮点 (选填)：")])])},function(){var e=this._self._c;return e("div",{staticClass:"InfoModleTitle"},[e("div",{staticStyle:{"line-height":"24px"}},[this._v("产品图片：")])])},function(){var e=this._self._c;return e("div",{staticClass:"bookRuleRow flex"},[e("div",{staticClass:"bookRuleTitle margin-right-4"},[this._v("提前预约：")]),e("div",{staticClass:"bookRuleInfo"},[this._v("将自动读取步骤「③ 预订规则」配置项")])])},function(){var e=this._self._c;return e("div",{staticClass:"bookRuleRow flex"},[e("div",{staticClass:"bookRuleTitle margin-right-4"},[this._v("可入住时间：")]),e("div",{staticClass:"bookRuleInfo"},[this._v("将自动读取步骤「③ 预订规则」配置项")])])},function(){var e=this._self._c;return e("div",{staticClass:"bookRuleRow flex"},[e("div",{staticClass:"bookRuleTitle margin-right-4"},[this._v("早餐政策：")]),e("div",{staticClass:"bookRuleInfo"},[this._v("将自动读取步骤「② 售卖规则」配置项")])])},function(){var e=this._self._c;return e("div",{staticClass:"bookRuleTitle margin-right-4"},[this._v("入离政策"),e("br"),this._v("(选填)：")])},function(){var e=this._self._c;return e("div",{staticClass:"bookRuleTitle margin-right-4"},[this._v("补差价规则"),e("br"),this._v("(选填)：")])},function(){var e=this._self._c;return e("div",{staticClass:"bookRuleRow flex"},[e("div",{staticClass:"bookRuleTitle margin-right-4"},[this._v("退改政策：")]),e("div",{staticClass:"bookRuleInfo"},[this._v("将自动读取步骤「② 售卖规则」配置项")])])},function(){var e=this._self._c;return e("div",{staticClass:"bookRuleTitle margin-right-4"},[this._v("其他说明"),e("br"),this._v("(选填)：")])},function(){var e=this._self._c;return e("div",{staticClass:"InfoModleTitle"},[e("div",{staticStyle:{"line-height":"18px"}},[this._v("图文介绍：")])])},function(){var e=this._self._c;return e("div",{staticClass:"InfoModleTitle"},[e("div",[this._v("使用说明：")])])}],!1,null,"4c62abbc",null);t.default=b.exports},"997b":function(e,t,i){"use strict";i("4be1")},"99fb":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var a=i("c7eb"),n=i("1da1"),o=(i("b0c0"),i("f744")),s=i("4ec3"),l=i("ec26"),r=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t,i,n,r,c){var u,d,p,h,m,f,g,v,b=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=b.length>5&&void 0!==b[5]?b[5]:"img",e.next=3,Object(s.Nh)(!0===c?{isPrivate:1}:null);case 3:if(d=e.sent,p=d.data,"img"!==u){e.next=13;break}return e.next=8,o.a(t,{quality:.92,noCompressIfLarger:!0}).catch((function(e){throw e}));case 8:m=e.sent,f=m.dist,h=f,e.next=14;break;case 13:"file"===u&&(h=t);case 14:return g=Object(l.a)(),v=g+"."+t.name.split(".").pop(),e.abrupt("return",o.b(h,v,p.data.token).subscribe((function(e){i&&i(e)}),(function(e){n&&n(e)}),(function(e){r&&r(e)})));case 17:case"end":return e.stop()}}),e)})));return function(t,i,a,n,o){return e.apply(this,arguments)}}()},ae30:function(e,t,i){},b23a:function(e,t,i){},b85c:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("d9e2");var a=i("06c5");function n(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=Object(a.a)(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,r=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return l=e.done,e},e:function(e){r=!0,s=e},f:function(){try{l||null==i.return||i.return()}finally{if(r)throw s}}}}},bbf0:function(e,t,i){"use strict";var a={name:"HelpModule",props:{list:{default:function(){return[]},type:Array},show:{default:!0,type:Boolean}},data:function(){return{contentList:this.list}},mounted:function(){},methods:{},watch:{show:function(e){var t=document.querySelector(".helpModule");e?(t.style.width="226px",t.style.marginLeft="10px"):(t.style.width="0",t.style.margin="0")}}},n=(i("c433"),i("997b"),i("2877")),o=Object(n.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"helpModule"},[t("div",{staticClass:"topBox"}),t("div",{staticClass:"contentBox"},[e._m(0),e._l(e.contentList,(function(i){return t("div",{key:i.title,staticClass:"txt"},[t("div",{staticClass:"title"},[t("span",[e._v(e._s(i.title))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:""!==i.imgUrl,expression:"i.imgUrl !== ''"}],staticClass:"imageWrp"},[t("img",{staticClass:"image",attrs:{src:i.imgUrl,alt:""}})]),t("div",{staticClass:"neirong",domProps:{innerHTML:e._s(i.text)}})])}))],2)])}),[function(){var e=this._self._c;return e("div",{staticClass:"title"},[e("span",[this._v("商品填写帮助")])])}],!1,null,"7305ab2c",null);t.a=o.exports},bd08:function(e,t,i){"use strict";i("6863")},be75:function(e,t,i){"use strict";i("4cff")},c433:function(e,t,i){"use strict";i("e06a")},c86d:function(e,t,i){},c959:function(e,t,i){},dac0:function(e,t,i){"use strict";i("ac1f"),i("5319"),i("d3b7"),i("159b"),i("caad"),i("14d9"),i("b0c0");var a=i("9339"),n=i.n(a),o=(i("8096"),i("a753"),i("14e1"),i("4ec3")),s=i("99fb"),l=n.a.import("attributors/style/align");l.whitelist=["right","center","justify"],n.a.register(l,!0);var r={"ql-bold":"加粗","ql-color":"颜色","ql-font":"字体","ql-italic":"斜体","ql-link":"添加链接","ql-background":"颜色","ql-size":"字体大小","ql-strike":"删除线","ql-script":"上标/下标","ql-underline":"下划线","ql-blockquote":"引用","ql-header":"标题","ql-indent":"缩进","ql-list":"列表","ql-align":"文本对齐","ql-direction":"文本方向","ql-image":"图片","ql-clean":"清除字体样式","ql-table":"插入表格","ql-table-insert-row":"在下方插入一行","ql-table-insert-column":"在右侧插入一列","ql-table-delete-row":"删除所在行","ql-table-delete-column":"删除所在列"},c={props:["id","fromContent","imgBlank","disabledValue","placeholder"],data:function(){var e=this;return{quill:null,options:{theme:"snow",modules:{toolbar:{container:[["bold","italic","underline","strike"],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link"],["cleanFormat"],["image"],[{script:"sub"},{script:"super"}],[{direction:"rtl"}]],handlers:{table:function(e){this.quill.getModule("table").insertTable(3,2)},"table-insert-row":function(){this.quill.getModule("table").insertRowBelow()},"table-insert-column":function(){this.quill.getModule("table").insertColumnRight()},"table-delete-row":function(){this.quill.getModule("table").deleteRow()},"table-delete-column":function(){this.quill.getModule("table").deleteColumn()},cleanFormat:function(){e.quill.root.innerHTML=e.quill.root.innerHTML.replace(/(\<)((?!(p|img))[^\>\<])*(\>)/g,"")}}},table:!0},placeholder:"如您无其他补充说明可不填"},content:"",uploadUrl:"",subscription:null,beforeArr:[],imgList:[],valNum:0,loading:!1}},methods:{init:function(){var e=this,t=this.$el.querySelector(".editor");this.quill=new n.a(t,this.options),this.disabledValue&&this.quill.disable(),setTimeout((function(){e.quill.clipboard.dangerouslyPasteHTML(e.content);var t=e.quill.getLength();e.quill.setSelection(t+1),e.quill.on("text-change",(function(){e.$emit("getContent",e.quill.root.innerHTML)}))}),100)},addQuillTitle:function(){var e=document.querySelector(".ql-toolbar"),t=e.querySelectorAll("button"),i=e.querySelectorAll("select"),a=this.$el.querySelector(".ql-cleanFormat"),n=e.querySelector(".ql-image");t.forEach((function(e){"ql-script"===e.className?"sub"===e.value?e.title="下标":e.title="上标":"ql-indent"===e.className?"+1"===e.value?e.title="向右缩进":e.title="向左缩进":e.title=r[e.classList[0]]})),i.forEach((function(e){e.parentNode.title=r[e.classList[0]]})),a.title="清除格式",n.style.marginRight="0"},getContentData:function(){return this.quill.getContents()},handleUploadUrl:function(e){var t=this,i=e.file;this.loading=!0,Object(s.a)(i,null,(function(e){t.$message.error("文件上传失败"),t.loading=!1}),(function(e){t.upImg(e,i),t.subscription=null,t.loading=!1}),!1,["image/png","image/jpeg","image/jpg"].includes(i.type)?"img":"file").then((function(e){t.subscription=e}))},beforeAvatarUpload:function(e){var t=e.size<5242880;return t||this.$message({message:"上传图片大小不能超过 5M!",type:"warning"}),this.beforeArr.push(e),t},upLoadError:function(){this.$message.error("文件上传失败")},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!1},imgClick:function(){document.querySelector("#".concat(this.id)).click()},upImg:function(e,t){var i=this;if(this.disableval)this.$message({message:"禁止插入图片！",type:"warning"});else if(this.imgList.push({url:"https://htmlqiniu.jihex.com/"+e.key,uid:t.uid}),this.imgList.length===this.beforeArr.length){for(var a in this.imgList)for(var n in this.beforeArr)this.imgList[a].uid===this.beforeArr[n].uid&&(this.beforeArr[n].url=this.imgList[a].url);var o=this.quill.getSelection().index;this.beforeArr.forEach((function(e,t){i.quill.insertEmbed(o+t,"image",e.url)})),this.quill.setSelection(o+this.beforeArr.length),this.beforeArr=[],this.imgList=[]}}},mounted:function(){this.content=this.fromContent,this.uploadUrl=o.eo,this.placeholder&&(this.options.placeholder=this.placeholder),this.init(),this.quill.getModule("toolbar").addHandler("image",this.imgClick);var e=document.querySelector(".ql-cleanFormat");e.style.cssText="width:100px;",e.innerHTML='\n\t\t\t\t<div style="display: flex;align-items: center;flex-shrink: 0;">\n\t\t\t\t\t<i style="font-size:14px;" class="iconfont iconqingchugeshi"></i><span style="font-family: PingFangSC-Regular;font-size: 12px;color: var(--color-text-secondary);letter-spacing: 0;line-height: 14px;margin-left:5px;display: inline-block;height: 18px; flex-shrink: 0;">(清除格式)</span>\n\t\t\t\t</div>\n\t\t\t';var t=document.querySelector(".ql-image");t.style.cssText="width:100px;",t.innerHTML='\n\t\t\t\t<div style="display: flex;align-items: center;margin: 0;">\n\t\t\t\t\t<i class="iconfont iconRichTextEditor_picture_ic"></i><span style="font-family: PingFangSC-Regular;font-size: 12px;color: var(--color-text-secondary);letter-spacing: 0;line-height: 18px;margin-left:5px;display: inline-block;height: 18px;flex-shrink: 0;">(支持多图)</span>\n\t\t\t\t</div>\n\t\t\t',this.addQuillTitle()},beforeCreate:function(){this.meta=document.createElement("meta"),this.meta.content="same-origin",this.meta.name="referrer",document.getElementsByTagName("head")[0].appendChild(this.meta)},beforeDestroy:function(){document.getElementsByTagName("head")[0].removeChild(this.meta),this.subscription&&this.subscription.unsubscribe()},watch:{fromContent:function(e){var t=this;if(this.content=e,0===this.valNum){this.quill.clipboard.dangerouslyPasteHTML(this.content);var i=this.quill.getLength();this.quill.setSelection(i+1),this.quill.on("text-change",(function(){t.$emit("getContent",t.quill.root.innerHTML)})),this.valNum++}}}},u=(i("64e2"),i("52b2"),i("2c61"),i("2877")),d=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"editorWrp",class:e.imgBlank?"":"imgBlank"},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"editor"}),t("el-upload",{staticClass:"elUpload",attrs:{"list-type":"picture-card","http-request":e.handleUploadUrl,"on-preview":e.handlePictureCardPreview,"on-success":e.upImg,"before-upload":e.beforeAvatarUpload,"on-error":e.upLoadError,multiple:"",action:e.uploadUrl}},[t("input",{attrs:{id:e.id}})])],1)}),[],!1,null,"1f541f29",null);t.a=d.exports},e06a:function(e,t,i){},e074:function(e,t,i){},e2ea:function(e,t,i){"use strict";i("e074")},edaf:function(e,t,i){"use strict";i("d81d"),i("4de4"),i("d3b7");var a={name:"SaaspcQuickInput",props:{value:{type:Boolean,default:!1}},data:function(){return{loading:!1,showDia:!1,text:""}},mounted:function(){},methods:{close:function(){this.text="",this.showDia=!1},confirm:function(){var e=this.text.split("\n").filter((function(e){return""!==e})).map((function(e){return{type:"自定义",content:e,count:"",unit:"",referPrice:"",visible:!1}}));if(!e.length)return this.$message.warning("请输入快捷输入内容");this.$emit("input",!1),this.$emit("saveIncludes",e)}},watch:{value:function(e){this.$emit("input",e),this.showDia=e},showDia:function(e){this.$emit("input",e)}}},n=i("2877"),o=Object(n.a)(a,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{id:"quickInput","element-loading-text":"拼命加载中","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[t("el-dialog",{attrs:{title:"快捷输入",visible:e.showDia,width:"750px",center:""},on:{"update:visible":function(t){e.showDia=t},closed:function(t){return e.close()}}},[t("el-input",{attrs:{placeholder:"系统支持通过回车键换行进行快捷输入，所输入的信息将自动逐条填充至下方的“自定义”类型中。可在自动填充后切换“类型”，进行“数量”、“单位”信息的补充\n\n每次快捷输入均为新增套餐内容",type:"textarea",rows:12},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}}),t("div",{staticClass:"footerBtnBox margin-top-24"},[t("tm-button",{attrs:{type:"plain-m"},on:{click:function(t){return e.close()}}},[e._v("取消")]),t("tm-button",{attrs:{left:20},on:{click:function(t){return e.confirm()}}},[e._v("确认填充")])],1)],1)],1)}),[],!1,null,"933825b8",null);t.a=o.exports},fbab:function(e,t,i){}}]);